using MauiStoreApp.ViewModels;
using System.Globalization;

namespace MauiStoreApp.Views;

public partial class LoginPage : ContentPage
{
	public LoginPage(LoginViewModel viewModel)
	{
		InitializeComponent();
		BindingContext = viewModel;
	}

    //private void OnChangeLanguageClicked(object sender, EventArgs e)
    //{
    //    // ????? ???????
    //    var current = System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;

    //    // ??????? ??? "ar" ? "en"
    //    var newCulture = current == "ar" ? "en" : "ar";
    //    App.LocalizationResourceManager.SetCulture(newCulture);

    //    // ????? ????? ?????? ?????? ??????
    //    Application.Current.MainPage = new AppShell();
    //}



    private void OnChangeLanguageClicked(object sender, EventArgs e)
    {
        // ???? ??? ????? ???????
        var currentLang = CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;

        // ??????? ??? ?????? ??????????
        var newCulture = currentLang == "ar" ? new CultureInfo("en") : new CultureInfo("ar");

        // ????? ????? ???????? ??? LocalizationResourceManager
        //App.LocalizationResourceManager.SetCulture(newCulture);


        App.LocalizationResourceManager.SetCulture(newCulture.TwoLetterISOLanguageName);


        // ????? ????? ?????? ???????? ?????? ?????????
        Application.Current.MainPage = new AppShell();
    }



}